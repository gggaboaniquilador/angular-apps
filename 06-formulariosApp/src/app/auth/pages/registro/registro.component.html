<h2>Validaciones Reactivas</h2>
<hr>


<div class="row">
    <form autocomplete="off" [formGroup]="miFormulario"
          (ngSubmit)="submitFormulario()">

        <!-- Nombre -->
        <div class="row mb-3">
            <label class="col-sm-3 col-form-label">Nombre</label>
            <div class="col-sm-9">
                <input type="text"
                class="form-control"
                formControlName="nombre"
                placeholder="Nombre del usuario">
            <span 
            *ngIf="campoNoValido('nombre')"
            class="form-text text-danger">
                Debe de ser en formato de nombre y apellido
            </span>
            </div>
        </div>

        <!-- Email -->
        <div class="row mb-3">
            <label class="col-sm-3 col-form-label">Email</label>
            <div class="col-sm-9">
                <input type="email"
                class="form-control"
                formControlName="email"
                placeholder="Email del usuario">
                <span 
                *ngIf="campoNoValido('email')"
                class="form-text text-danger">
                {{ emailErrorMsg }}
            </span>
            </div>
        </div>

        <!-- Username -->
        <div class="row mb-3">
            <label class="col-sm-3 col-form-label">Username</label>
            <div class="col-sm-9">
                <input type="text"
                formControlName="username"
                class="form-control"
                placeholder="Nombre codigo del usuario">
            <span 
                *ngIf="campoNoValido('username')"
                class="form-text text-danger">
                    El username no puede ser Strider
            </span>
            </div>
        </div>

        <!-- Password -->
        <div class="row mb-3">
            <label class="col-sm-3 col-form-label">Password</label>
            <div class="col-sm-9">
                <input type="password"
                class="form-control"
                formControlName="password"
                placeholder="Contrase単a de su cuenta">
                <span 
                *ngIf="campoNoValido('password')"
                class="form-text text-danger">
                    La contrase単a debe ser mayor de 6 caracteres
            </span>
            </div>
            
        </div>

        <!-- Password 2 -->
        <div class="row mb-3">
            <label class="col-sm-3 col-form-label">Confirmar</label>
            <div class="col-sm-9">
                <input type="password"
                class="form-control"
                formControlName="password2"
                placeholder="Confirmar la contrase単a">
                <span 
                *ngIf="campoNoValido('password')"
                class="form-text text-danger">
                    La contrase単as deben de ser iguales
            </span>
            </div>
            
        </div>

        <div class="row">
            <div class="col">
                <button class="btn btn-primary float-end"
                        [disabled]="miFormulario.pending"
                        type="submit">
                    Crear
                </button>
            </div>
        </div>

    </form>
</div>
<h2>
    form Valid: {{miFormulario.valid}}
</h2>
<h2>
    form Status: {{miFormulario.status}}
</h2>
<h2>
    form Pending: {{miFormulario.pending}}
</h2>
<h2>
    form errors: {{miFormulario.errors | json}}
</h2>
<h5>Nombre</h5>
<pre>{{ miFormulario.controls.nombre.errors | json}}</pre>
<br>
<h5>Email</h5>
<pre>{{ miFormulario.controls.email.errors | json}}</pre>
<br>
<h5>Username</h5>
<pre>{{ miFormulario.controls.username.errors | json}}</pre>
<br>
<h5>Password</h5>
<pre>{{ miFormulario.controls.password.errors | json}}</pre>
<br>
<h5>Password2</h5>
<pre>{{ miFormulario.controls.password2.errors | json}}</pre>